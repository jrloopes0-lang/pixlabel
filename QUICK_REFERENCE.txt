â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                     PIXLABEL QUICK REFERENCE CARD                        â•‘
â•‘                        FASE 2 COMPLETE âœ…                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“– DOCUMENTATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    Start here:                README.md
    Status & Checklist:        PHASE2_CHECKPOINT.md
    Executive Summary:         FASE2_RELATORIO_EXECUTIVO.md
    Test Endpoints:            API_TESTING.md
    Deployment Guide:          DEPLOYMENT.md
    AI Agent Instructions:     .github/copilot-instructions.md
    Full Status:               STATUS.txt (this project overview)


ğŸš€ START DEV SERVER (3 STEPS)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    1. Setup environment:
       $ cp .env.example .env
       (Edit .env with DATABASE_URL and SESSION_SECRET)

    2. Start server:
       $ npm run dev
       â†’ http://localhost:3000

    3. Test health:
       $ curl http://localhost:3000/api/health


ğŸ§ª TEST API (5 EXAMPLES)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Health Check:
    $ curl http://localhost:3000/api/health

    List Medications:
    $ curl http://localhost:3000/api/items

    Create Medication:
    $ curl -X POST http://localhost:3000/api/items \
      -H "Content-Type: application/json" \
      -d '{"code":"MED-001","name":"Dipirona","presentation":"500mg",...}'

    SESI Search Medications:
    $ curl "http://localhost:3000/api/sesi/medicamentos?q=dipirona"

    Auth Status:
    $ curl http://localhost:3000/api/auth/status


ğŸ› ï¸ USEFUL COMMANDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Check TypeScript:              npm run check
    Build Production:              npm run build
    View Database (GUI):           npm run db:studio
    Apply Migrations:              npm run db:push
    Run Production:                npm start


ğŸ“ KEY FILES TO KNOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Frontend Entry:    client/index.html
    Backend Entry:     server/index-dev.ts
    API Routes:        server/routes.ts (15+ endpoints)
    Database Schema:   shared/schema.ts (14 tables + Zod)
    React Router:      client/src/App.tsx
    Auth Middleware:   server/middleware/auth.ts
    HTTP Client:       client/src/lib/api.ts


ğŸ—„ï¸ DATABASE TABLES (14 TOTAL)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Core:
    â€¢ users            - Sistema users
    â€¢ items            - Medicamentos
    â€¢ orders           - Pedidos de compra
    â€¢ orderItems       - Itens do pedido
    â€¢ units            - Unidades de saÃºde
    â€¢ suppliers        - Fornecedores

    SESI:
    â€¢ sesiPatients     - Pacientes excepcionais
    â€¢ sesiStock        - Estoque SESI (com lote + validade)
    â€¢ sesiDispensations- HistÃ³rico de dispensaÃ§Ãµes

    Audit:
    â€¢ auditLogs        - Log de operaÃ§Ãµes (LGPD)
    â€¢ importHistory    - HistÃ³rico de importaÃ§Ãµes

    System:
    â€¢ sessions         - Session storage


ğŸ’» TECH STACK (ONE-LINER)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Node.js 22 + Express + React 18 + TypeScript 5.6 + Tailwind CSS
    + Drizzle ORM + PostgreSQL + Zod + React Query v5 + Vite


ğŸ” SECURITY CHECKLIST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    âœ… Type Safety:              TypeScript strict mode, zero any types
    âœ… Input Validation:          Zod schemas on all endpoints
    âœ… Error Handling:            Global middleware + proper HTTP codes
    âœ… Session Security:          HttpOnly cookies + PostgreSQL store
    âœ… LGPD Compliance:           Audit logs schema ready
    âœ… FIFO Logic:               Medications by expiry date (FDA compliance)


âš¡ PERFORMANCE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Frontend:       Vite (hot reload), React Query (caching)
    Backend:        Express.js + Drizzle queries
    Database:       PostgreSQL with indexes on: code, cpf, entityId, userId
    Caching:        React Query (5min stale time by default)


ğŸ“Š PROJECT STATS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    27 TypeScript files
    17 React components
    15+ API endpoints
    14 Database tables
    14 Zod schemas
    0 Type errors âœ…
    566 MB total (with node_modules)


ğŸš¨ COMMON ISSUES & FIXES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Dev server won't start:
    â†’ Check: echo $DATABASE_URL (must be set)
    â†’ Fix: export DATABASE_URL="postgresql://..."

    TypeScript errors:
    â†’ Run: npm run check
    â†’ Fix reported files

    API 404:
    â†’ Check server started: npm run dev
    â†’ Test health: curl http://localhost:3000/api/health

    Database connection fails:
    â†’ Verify PostgreSQL running
    â†’ Check DATABASE_URL format
    â†’ Test with: psql $DATABASE_URL


ğŸ¯ NEXT STEPS (FASE 3)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Priority 1:  Replit OAuth integration
    Priority 2:  SESI dispensation page (React form)
    Priority 3:  Audit logging middleware
    Priority 4:  Unit tests + E2E tests
    Priority 5:  Deployment setup


ğŸ“ HELP RESOURCES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Questions?
    1. Check documentation files listed at top
    2. Search in codebase: grep -r "keyword" .
    3. Review .github/copilot-instructions.md
    4. Check error in PHASE2_CHECKPOINT.md troubleshooting


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Status: FASE 2 COMPLETE âœ…
Ready for: FASE 3 (OAuth + Advanced Features)
Updated: Dec 1, 2025
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
